2001-12-08  Abel Cheung  <maddog@linux.org.hk>

	* gedit-file.c: Fixed misspellings.

2001-12-03  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.c (TO_BE_IMPLEMENTED): new macro
	(gedit_cmd_file_print): marked as TO_BE_IMPLEMENTED
	(gedit_cmd_file_print_preview): marked as TO_BE_IMPLEMENTED
	(gedit_cmd_help_about): added a caveat
	(gedit_cmd_search_find_again): new function
	(gedit_cmd_search_replace): marked as TO_BE_IMPLEMENTED

	* gedit-commands.h (gedit_cmd_search_find_again): new prototype

	* gedit-document.c (gedit_document_get_last_searched_text): new function
	(gedit_document_find_again): new function

	* gedit-document.h (gedit_document_get_last_searched_text): new prototype
	(gedit_document_find_again): ditto

	* gedit-menus.c: added SearchFindAgain to gedit_verbs []

	* gedit-prefs.c: added #include "gedit2.h".
	(gedit_prefs_save_settings): save the active top level window size

	* dialogs/gedit-dialog-replace.c (gedit_dialog_find): remember the last
	searched text per document

2001-12-03  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.c (gedit_document_find): when some text is selected and you
	want to search beginning from the cursor position, start searching
	from the end of the selection 

	* dialogs/gedit-dialog-replace.c: added beginning and cursor to _GeditDialogFind
	and _GeditDialogReplace
	(find_dlg_find_button_pressed): set active "search from cursor" radiobutton
	when needed

2001-12-02  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-document.c: added last_searched_text to GeditDocumentPrivate
        (gedit_document_finalize): free last_searched_text
	(gedit_document_find): new function

	* gedit-document.h (gedit_document_find): new prototype

	* gedit-mdi.c (gedit_mdi_update_ui_according_to_preferences): set wrap mode too

	* gedit-prefs.h : word_wrap -> wrap_mode

	* gedit-prefs.c : #define DEFAULT_FONTSET removed. 
	Definition of DEFAULT_FONT changed, now the default font is Sans 12
	(gedit_prefs_save_settings): save wrap_mode
	(gedit_prefs_load_settings): use g_new0 to allocate settings. Load wrap_mode. 
	Fix a memory leak with font.

	* gedit-print.c : some experiment with libgnomeprintui-2.0. It is really broken :-(

	* gedit-ui.xml : hide Plugins and Debug menus

	* gedit-view.c (gedit_view_init): use the preferrend wrap_mode when a GeditView is
	created. Fixed a bug with colors and font preferences.
	(gedit_view_set_colors): rewritten to use gtk_widget_modify_base and 
	gtk_widget_modify_text
	(gedit_view_set_font): rewritten to use gtk_widget_modify_font
	(gedit_view_set_wrap_mode): new function
	(gedit_view_set_tab_size): new function. ATTN: it is broken

	* gedit-view.h: (gedit_view_set_wrap_mode): new prototype
	(gedit_view_set_tab_size): new prototype

	* dialogs/gedit-dialog-replace.c : gedit-mdi-child.h and gedit-debug.h #included
	(find_dlg_find_button_pressed): implemented
	(gedit_dialog_find): close correcly the find dlg

	* dialogs/gedit-preferences-dialog.c : wrap mode page added.
	Save and Tabs pages hidden. Paper and Page empty pages added.
	(gedit_preferences_dialog_setup_logo_page): new function
	(gedit_preferences_dialog_setup_wrap_mode_page): ditto
	(gedit_preferences_dialog_update_settings): read data from wrap mode page too.
	
	* gedit-preferences.glade2 : wrap mode page added.

2001-11-28  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.c (gedit_cmd_settings_preferences): now it really update gedit settings
	  (gedit_cmd_help_about): cleaned a bit

	* gedit-mdi.c (gedit_mdi_set_app_status_bar): removed
	  (gedit_mdi_set_app_statusbar_style): new functio
	  (gedit_mdi_set_app_toolbar_style): almost rewritten
	  (gedit_mdi_update_ui_according_to_preferences): new function

	* gedit-mdi.h (gedit_mdi_update_ui_according_to_preferences): new prototype

	* gedit-prefs.[ch]: removed some unused prefs

	* gedit-view.c (gedit_view_init): use the preferred colors and font when 
	  a GeditView is created
	  (gedit_view_set_colors): new function
	  (gedit_view_set_font): ditto

	* gedit-view.h (gedit_view_set_colors): new prototype
	  (gedit_view_set_font): ditto

	* dialogs/gedit-preferences-dialog.c: cleaned
          (gedit_preferences_dialog_update_settings): new function

2001-11-27  Paolo Maggi  <maggi@athena.polito.it>

	* dialogs/gedit-preferences-dialog.c: added Undo and Tabs pages, removed Save page.

	* dialogs/gedit-preferences.glade2: finished... I hope

2001-11-26  Paolo Maggi  <maggi@athena.polito.it>

	* Makefile.am: -DGEDIT_UI_DIR and -DGEDIT_GLADE_DIR added to INCLUDES,
	ui_DATA defined, added gedit-print.c and gedit-print.h to gedit2_SOURCES

	* bonobo-mdi.c (app_create): removed old commented code

	* gedit-commands.[ch] (gedit_cmd_file_print): new function
	  (gedit_cmd_file_print_preview): ditto
          (gedit_cmd_settings_preferences): ditto
	  
	* gedit-file.c	(gedit_file_save_as_ok_button_clicked_handler): typo

	* gedit-mdi.c (gedit_mdi_init): removed old commented code, search
	gedit-ui.xml in the rigth location

	* gedit-menus.c: added FilePrint, FilePrintPreview and SettingsPreferences to
	gedit_verbs []

	* gedit-prefs.[ch]: added two new preferences, i.e. use_default_font and use_default_colors

        * dialogs/Makefile.am: -DGEDIT_UI_DIR and -DGEDIT_GLADE_DIR added to INCLUDES,
	added gedit-preferences-dialog.[ch] to libdialogs_a_SOURCES

	* dialogs/gedit-dialog-goto-line.c (dialog_goto_line_get_dialog): search glade file in the rigth location

	* dialogs/gedit-dialog-uri.c (dialog_open_uri_get_dialog): ditto

	* dialogs/gedit-dialog-replace.c (dialog_replace_get_dialog): ditto
	  (gedit_dialog_replace): close window only when "replace all" or "close" button is pressed
	
	* gedit-print.[ch]
	* dialogs/gedit-preferences.glade2
	* dialogs/gedit-preferences-dialog.[ch]: new files


2001-11-23  Paolo Maggi  <maggi@athena.polito.it>

	* gedit-commands.[ch] (gedit_cmd_search_replace): new function 

	* gedit-menus.c: added SearchReplace to gedit_verbs []

	* dialogs/gedit-dialog-replace.c: almost rewritten 

	* dialogs/gedit-dialogs.h (gedit_dialog_replace): new prototype

2001-11-19  Paolo Maggi  <maggi@athena.polito.it>

	* bonobo-mdi.c: (bonobo_mdi_destroy) doesn't use GTK_OBJECT_DESTROYED anymore
	
	* gedit-document.[ch] (gedit_document_load_from_stdin): new function
	(gedit_document_begin_not_undoable_action): ditto
	(gedit_document_end_not_undoable_action): ditto

	* gedit-file.[ch] (gedit_file_open_from_stdin): new function
	
	* gedit-recent.c (gedit_recent_cb): check if active_child != NULL before
	casting to GEDIT_MDI_CHILD

	* gedit2.c (gedit_load_file_list): now calls gedit_file_open_from_stdin (NULL)

2001-11-16  Carlos Perelló Marín <carlos@gnome-db.org>

	* gedit2.c: Added support to AM_GLIB_GNU_GETTEXT
	* gedit-recent.c, gedit-utils.c, gedit-document.c, gedit-file.c:
	Fixed the gnome-vfs-helpers.h include.

2001-11-16  Paolo Maggi   <maggi@athena.polito.it>

	* Started the port to GNOME 2.0

2001-11-16  Carlos Perelló Marín <carlos@gnome-db.org>

	* ChangeLog: rolled over to ChangeLog-20011116.
