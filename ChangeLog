2006-02-12  Paolo Maggi  <paolo@gnome.org>

	* plugins/externaltools/tools/tools.glade: use GTK_SHADOW_IN for
	the scrolled window in the output panel

2006-02-08  James Livingston  <jrl@ids.org.au>

	* gedit/gedit-document.c: (gedit_document_replace_all): disable
	search highlighting during replace all, as it can be done at the end
	and can be slow.

2006-02-08  Paolo Borelli  <pborelli@katamail.com>

	* plugins/externaltools/tools/manager.py: properly clear the fields
	and handle sensitivity when adding and removing tools.

2006-02-04  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit-commands-search.c: fix cut&paste error.

2006-02-04  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit-document.c: disable bracket matching during replace_all,
	in order to avoid wasting time. Patch by James Livingston.

2006-02-01  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit-document-saver.c:
	* gedit/gedit-window.c:
	* gedit/sexy-icon-entry.c:
	* plugins/docinfo/gedit-docinfo-plugin.c:

	fix some C99-style variable initializations, patch by Jens Granseuer.

2006-01-30  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit-file-chooser-dialog.c: add some application/x-foo
	mime types to the "All text files" white list. Spotted Mathieu Pillard.

2006-01-31  Michael Terry  <mterry@cvs.gnome.org>

	* gedit/gedit.c:
	* configure.ac:

	Convert from popt to goption (bug 329375).

=== gedit 2.13.90 ===

2006-01-30  Paolo Borelli  <pborelli@katamail.com>

	* configure.ac:
	* README:
	* NEWS:

	gedit 2.13.90 released

2006-01-30  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit-python-module.c: be robust to python modules import
	failure.

2006-01-30  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit-document-saver.c: remove the temporary backup in the
	fallback saving strategy if the user specified that he doesn't want
	backup files to be kept. (bug 329178)

2006-01-30  Paolo Borelli  <pborelli@katamail.com>

	* gedit/recent-files/*: sync with libegg.

2006-01-29  Steve Frécinaux  <steve@istique.net>

	* gedit/gedit-view.c: hide cursor when interactive search is active

2006-01-27  Paolo Borelli  <pborelli@katamail.com>

	* remove outdated files, patch by Stephane Loeuillet.

2006-01-21  Paolo Borelli  <pborelli@katamail.com>

	* data/gedit-desktop.in.in: add GNOME/GTK categories to the
	.desktop file. (bug 328013)

2006-01-21  Steve Frécinaux  <steve@istique.net>

	* plugins/externaltools/tools/functions.py: implement applicability
	(gray unusable tools, allow to run a command on unsaved document)
	* plugins/externaltools/tools/__init__.py: adapt for applicability;
	remove debug message
	* plugins/externaltools/tools/manager.py: correct a bug related to
	keyboard navigation; allow reordering the tools in the tree and in the
	main window menu; update the right pane title when a tool is renamed
	* plugins/externaltools/tools/tools.glade: name the hpaned
	* plugins/externaltools/tools/outputpanel.py: show the panel when a
	tool is ran

2006-01-21  Steve Frécinaux  <steve@istique.net>

	* plugins/snippets/snippets/SnippetsDialog.py: remove the gconf stuff

=== gedit 2.13.4 ===

2006-01-20  Paolo Borelli  <pborelli@katamail.com>

	* configure.ac:
	* README:
	* NEWS:

	gedit 2.13.4 released

2006-01-20  Paolo Borelli  <pborelli@katamail.com>

	* configure.ac: depend on the brand new gnome-python-desktop
	instead of gnome-python-extras.

2006-01-20  Paolo Borelli  <pborelli@katamail.com>

	* gedit/bacon-message-connection.[ch]: update from libbacon, fixes
	crash on startup reported in bug 326247. Patch by Marco Barisione.

2006-01-20  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit-document-saver.c: actually use the PRESERVE_BACKUP
	flag introduced with the autosave patch.

2006-01-20  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit-window.c: fix warning introduced by my last patch.
	Do some cleanup while we are at it.

2006-01-19  Paolo Maggi  <paolo@gnome.org>

	* gedit/gedit-io-error-message-area.c
	(gedit_unrecoverable_loading_error_message_area_new)
	(gedit_unrecoverable_reverting_error_message_area_new)
	(gedit_conversion_error_while_loading_message_area_new)
	(gedit_conversion_error_while_saving_message_area_new)
	(gedit_externally_modified_saving_error_message_area_new)
	(gedit_no_backup_saving_error_message_area_new)
	(gedit_unrecoverable_saving_error_message_area_new): use
	g_markup_printf_escaped instead of g_strdup_printf when needed

	* gedit/gedit-tab.c (show_loading_message_area)
	(show_saving_message_area) (_gedit_tab_get_tooltips): ditto

	* gedit/gedit-utils.c (gedit_utils_get_glade_widgets): ditto

2006-01-19  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit-window.c: properly restore the bottom panel size
	on startup.

2006-01-19  Paolo Maggi  <paolo@gnome.org>

	Re-added autosave feature. 
	Based on a patch by Sergio Villar Senin <svillar@igalia.com>
	
	* gedit/gedit-debug.[ch]: s/GEDIT_DEBUG_FILE/GEDIT_DEBUG_TAB

	* gedit/gedit-document.c (gedit_document_finalize)
	(gedit_document_init) (set_readonly) (gedit_document_get_encoding):
	remove autosave related functions (moved to gedit-tab.c)

	* gedit/gedit-document.h: remove autosave related functions (moved to 
	gedit-tab.h)

	* gedit/gedit-prefs-manager-app.c
	(gedit_prefs_manager_auto_save_changed): use new functions for autosave

	* gedit/gedit-tab.c (install_auto_save_timeout)
	(install_auto_save_timeout_if_needed) (remove_auto_save_timeout)
	(gedit_tab_get_property) (gedit_tab_set_property)
	(gedit_tab_finalize) (gedit_tab_class_init)
	(document_uri_notify_handler)
	(recoverable_loading_error_message_area_response)
	(unrecoverable_reverting_error_message_area_response)
	(show_loading_message_area) (show_saving_message_area)
	(message_area_set_progress) (document_loading) (document_loaded)
	(document_saving) (end_saving)
	(unrecoverable_saving_error_message_area_response)
	(no_backup_error_message_area_response)
	(externally_modified_error_message_area_response)
	(recoverable_saving_error_message_area_response) (document_saved)
	(gedit_tab_init) (_gedit_tab_load) (_gedit_tab_revert)
	(_gedit_tab_save) (gedit_tab_auto_save) (_gedit_tab_save_as)
	(gedit_tab_get_auto_save_enabled) (gedit_tab_set_auto_save_enabled)
	(gedit_tab_get_auto_save_interval)
	(gedit_tab_set_auto_save_interval): implemented autosave feature.
	It works in the following way:
	- the auto_save_timeout timeout is used to call gedit_document_auto_save
	  every X minutes
	- when a file is loaded or saved the timeout is removed (to avoid the 
	  case in which autosave is called while loading/saving)
	- when a file has been loaded/saved, if needed, the timeout is 
	  re-created and so gedit_document_auto_save will be called after X 
	  minutes again
	  
	* gedit/gedit-tab.h: new functions related to autosave

	* bindings/python/gedit.defs: updated

2006-01-19  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit-panel.c: fix warning.
	* gedit-ui.h: make view bottom pane action sensitive.
	* gedit/gedit-window.c: handle view bottom pane sensitivity according
	to the presence of items in the bottom pane.

2006-01-19  Paolo Borelli  <pborelli@katamail.com>

	* bindings/python/gedit.defs: bind new panel function.
	* gedit/gedit-panel.[ch]: add item_added and item_removed signals and
	a function to get the number of items in a panel.
	* gedit/gedit-window.c: hide the bottom panel when all the items are
	removed.

2006-01-18  Steve Frécinaux  <steve@istique.net>

	* plugins/externaltools/tools/capture.py: corrected freeze bug when 
	an input was specified. End signal is sent *after* the other signals.

	* plugins/externaltools/tools/functions.py: corrected syntax errors.
	System-wide env vars are passed to the child process (allow to launch
	X apps). new GEDIT_DOCUMENTS_(PATH|URI) and GEDIT_CURRENT_DOCUMENT_NAME
	environment variables. Ensure "replace" output options effectively
	replace previous content. User feedback: wait cursor and locked view.
	Load an empty tree if no file found (instead of None)

	* plugin/externaltools/tools/stock-tools.xml: Update with new sample
	tools using the new features.

2006-01-18  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit.c (main): call gnome_accelerators_sync before
	exit to save the custom accels.

2006-01-17  Adam Weinberger  <adamw@gnome.org>

	* plugins/snippets/snippets/__init__.py: Spelling
	  and grammar tweak. Fixes bug #57553.

=== gedit 2.13.3 ===

2006-01-16  Jesse van den Kieboom  <jesse@icecrew.nl>

	* gedit/gedit-python-module.c: added gettext support
	* po/POTFILES.in: added snippets translatable files
	* plugins/snippets/*: gettext'ed strings
	* plugins/snippets/snippets/snippets.glade: changed title to 
	  Snippets Manager
	* plugins/snippets/snippets/__init__.py:
	  plugins/snippets/snippets/SnippetsDialog.py:
	  plugins/snippets/snippets/SnippetPluginInstance.py:
	  
	  added support having the same accelerator for multiple snippets
	
2006-01-16  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit-document-loader.c: use new vfs api to guess the mime
	directly from the mmapped data.

2006-01-16  Paolo Borelli  <pborelli@katamail.com>

	* configure.ac: bump gnome-vfs requirements
	* gedit/gedit-document.c: use the new vfs api to guess the mime type
	from a filename, so that gedit foo.c uses the right highlighting.

2006-01-16  Steve Frécinaux  <nud@apinc.org>

	plugins/externaltools/*: new plugin to execute shell commands.

2006-01-15  Paolo Maggi  <paolo@gnome.org>

	* gedit/gedit-document-loader.c (load_local_file_real): removed
	a debug message

	* gedit/gedit-utils.c (gedit_utils_uri_exists): use DEBUG_UTILS
	instead of DEBUG_FILE

2006-01-14  Jesse van den Kieboom  <jesse@icecrew.nl>

	* plugins/snippets/snippets/Snippet.py:
	* plugins/snippets/snippets/functions.py: apply autoindentation at 
	all cases

2006-01-14  Jesse van den Kieboom  <jesse@icecrew.nl>

	* plugins/snippets/*: new snippets plugin
	
2006-01-13  Frank Arnold  <farnold@cvs.gnome.org>

	* gedit/gedit-io-error-message-area.c:
	* gedit/gedit-tab.c:
	* gedit/gedit-utils.c: Moved markup out of gettext messages.

=== gedit 2.13.2 ===

2006-01-11  Paolo Borelli  <pborelli@katamail.com>

	* configure.ac:
	* README:
	* NEWS:

	gedit 2.13.2 released

2006-01-09  Paolo Borelli  <pborelli@katamail.com>

	* configure.ac: bump gnome-python-extras requirement to 2.12.0 since
	we need gtksourceview.defs installed.

2006-01-09  Paolo Borelli  <pborelli@katamail.com>

	* gedit/Makefile.am:
	* gedit/gedittextregion.[ch]:
	* gedit/gtktextregion.[ch]:
	* gedit/gedit-document.c:
	* gedit/update-gedittextregion.sh:

	move the local copy of textregion to gedittextregion to avoid
	symbols conflicts with the sourceview copy. Add a simple shell
	script to automate updating.

2006-01-09  Nickolay V. Shmyrev <nshmyrev@yandex.ru>

	* gedit/gedit-metadata-manager.c: (parseItem), (save_item):
	use long int when working with time_t. Fix for the bug
	#326248.

2006-01-09  Paolo Maggi  <paolo@gnome.org>

	Patch by Steve Frécinaux  <nud@apinc.org>

	* gedit/gedit-panel.c (gedit_panel_add_item): crop the image to
	GTK_ICON_SIZE_MENU size. 

	* plugins/pythonconsole/pythonconsole.py: use GTK_ICON_SIZE_MENU size
	for the icon

2006-01-08  Paolo Maggi  <paolo@gnome.org>

	* gedit/sexy-icon-entry.c:
	* gedit/sexy-icon-entry.h: updated from libsexy SVN repository

2006-01-08  Paolo Maggi  <paolo@gnome.org>

	* gedit/gedit-python-module.c (gedit_python_module_init_python):
	does not allow python to manage SIGINT signal: this is needed to avoid
	the crash reported on bug #326191 (Crash when pressing Ctrl+C 
	from terminal) 

2006-01-07  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit-plugins-engine.c: make sure the garbage collector
	runs before we unload C plugins. Fix crash on exit.

2006-01-07  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit-document.c: fix typos.
	* gedit/gtktextregion.[ch]: ditto.

2006-01-06  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit-plugins-engine.[ch]
	* gedit/gedit-python-module.[ch]
	* gedit/gedit-window.c:

	Run the python Garbage Collector when closing a window or a tab
	in order to force python to release references to our objects.

2006-01-06  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit-plugin.[ch]:
	* gedit/gedit-python-plugin.c:

	implement configure_dialog support for python plugins and make
	sure to chain up to the default gedit-plugin methods if a python
	plugin doesn't override a method.
	Patch from Jesse Van Den Kieboom and Raphael Slinckx.

2006-01-05  Paolo Maggi  <paolo@gnome.org>

	* gedit/gedit-view.c (gedit_view_class_init): added reset_searched_text
	signal and keybinding
	(reset_searched_text): new function

	* gedit/gedit-view.h: added  reset_searched_text signal

2006-01-05  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit-document.c (compute_num_of_lines): make utf8-aware.

2005-01-05  Steve Frécinaux  <nud@apinc.org>
 
 	* gedit/gedit-view.c : larger timeout for the search box, scroll back
 	only on <escape> (cf. Bug #105196) ; hide the search box when the window
 	looses focus.
 
2006-01-05  Paolo Maggi  <paolo@gnome.org>

	Implemented search highligthing: all the occurences of the searched
	text are highlighted
	
	* data/gedit.schemas.in: added editor/search_highlighting/enable key

	* gedit/Makefile.am: compile gtktextregion.[ch]
	
	* gedit/gtktextregion.[ch]: new files

	* gedit/gedit-document.c (gedit_document_finalize): destroy 
	to_search_region if needed
	(gedit_document_get_property): get the enable-search-highlighting 
	property
	(gedit_document_set_property): new function
	(gedit_document_class_init): added enable-search-highlighting property
	and search_highlight_updated signal
	(gedit_document_init): initialize enable-search-highlighting property
	and connect "insert-text" and "delete-rande" signals
	(compute_num_of_lines): new function
	(gedit_document_set_search_text): update search hl if needed
	(gedit_document_get_can_search_again): fixed to manage the case 
	in which search_text is empty
	(search_region): new funtion
	(to_search_region_range): ditto
	(_gedit_document_search_region): ditto
	(insert_text_cb): ditto
	(delete_range_cb): ditto
	(gedit_document_set_enable_search_highlighting): ditto
	(gedit_document_get_enable_search_highlighting): ditto

	* gedit/gedit-document.h: added search_highlight_updated signal and
	declare gedit_document_[set|get]_enable_search_highlighting and 
	_gedit_document_search_region functions

	* gedit/gedit-prefs-manager-app.c (gedit_prefs_manager_app_init)
	(gedit_prefs_manager_syntax_hl_enable_changed)
	(gedit_prefs_manager_search_hl_enable_changed): added support for 
	editor/search_highlighting/enable key

	* gedit/gedit-prefs-manager.[ch]: added support for 
	editor/search_highlighting/enable key

	* gedit/gedit-view.c (gedit_view_class_init): set expose_event default
	handler
	(gedit_view_new): connect to "search_highlight_updated" signal
	(gedit_view_expose)(search_highlight_updated_cb): new functions

2006-01-03  Paolo Maggi  <paolo@gnome.org>

	Fixes drag&drop of files from file-roller
	
	* gedit/gedit-utils.c (gedit_utils_is_valid_uri): fixed a compiler 
	warning
	(gedit_utils_make_canonical_uri_from_shell_arg): new function

	* gedit/gedit-utils.h: new function 
	gedit_utils_make_canonical_uri_from_shell_arg

	* gedit/gedit-window.c (drag_data_received_cb): use the new
	gedit_utils_make_canonical_uri_from_shell_arg

	* gedit/gedit.c (gedit_get_command_line_data): use the new
	gedit_utils_make_canonical_uri_from_shell_arg function

2006-01-03  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit-app.c: fix startup race condition on active_window.
	* gedit/gedit-utils.c: sanity check arguments.

2006-01-03  Paolo Maggi  <paolo@gnome.org>

	* data/gedit.schemas.in: added restore_cursor_position key

	* gedit/gedit-prefs-manager.c
	(gedit_prefs_manager_get_restore_cursor_position): new function

	* gedit/gedit-prefs-manager.h: add restore_cursor_position key and
	gedit_prefs_manager_get_restore_cursor_position function

	* gedit/gedit-document.c (document_loader_loaded): restore the previous
	cursor position if gedit_prefs_manager_get_restore_cursor_position 
	return TRUE

2006-01-03  Paolo Maggi  <paolo@gnome.org>

	* gedit/gedit-commands-search.c (phrase_found): modified the string
	shown in the statusbar for the case occurrences == 1

2006-01-03  Paolo Maggi  <paolo@gnome.org>

	Fixes Replace All button sensitivity in the Find/Replace dialog.
	
	* gedit/dialogs/gedit-search-dialog.c (search_options_changed): function
	removed
	(gedit_search_dialog_init): do not connect search_options_changed
	(gedit_search_dialog_set_search_text): set "Replace All" button 
	sensitivity

	* gedit/gedit-commands-search.c (do_find) (do_replace_all): not set
	"Replace All" button sensitivity
	
=== gedit 2.13.1 ===

2006-01-02  Paolo Borelli  <pborelli@katamail.com>

	* configure.ac:
	* README:
	* NEWS:

	gedit 2.13.1 released

2006-01-02  Paolo Borelli  <pborelli@katamail.com>

	* plugins/spell/gedit-spell-plugin.c: remove bogus assertion.

2006-01-02  Paolo Maggi  <paolo@gnome.org>

	New Modelines plugin by Steve Frécinaux  <nud@apinc.org>

	* configure.ac: added plugins/modelines/Makefile to AC_OUTPUT

	* data/gedit.schemas.in: added modelines to the list of default plugins

	* plugins/Makefile.am: added modelines to [DIST_]SUBDIRS

	* plugins/modelines/Makefile.am:
	* plugins/modelines/modelines.gedit-plugin.desktop.in:
	* plugins/modelines/modelines.py: new modelines plugin

2006-01-02  Paolo Borelli  <pborelli@katamail.com>

	* gedit/dialogs/gedit-search-dialog.c: make sure Replace All
	is sensitive when search options become less strict (#325377)

2006-01-02  Steve Frécinaux  <nud@apinc.org>

	* gedit/gedit-panel.[ch]: reworked layout of panels, given their
	orientation:
	 - add "orientation" construction property
	 - remove tab labels from left panel, show them for bottom one
	 - ellipsize left panel title
 	 - remove title bar from bottom panel
 	 - placeholder for future panel toolbars
	to get panel orientation
	
	* gedit/gedit-window.c: adapt for the above changes
	
	* bindings/python/gedit.defs: add GeditPanel.get_orientation()

2005-12-30  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit-ui.xml: add a placeholder in the tab popup.

2005-12-29  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit-utils.[ch]: add some string escaping utils.
	
	* gedit/gedit-window.c: properly escape action names and labels.

2005-12-29  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit.c: make sure window is realized before setting the
	startup timestamp.

2005-12-28  Steve Frécinaux  <nudrema@gwash.com>

	* plugins/indent/gedit-indent-plugin.c: retrieve tab settings
	directly from GtkSourceView instead of using the prefs-manager.

2005-12-18  Michael Terry  <mterry@cvs.gnome.org>

	* .cvsignore:
	* Makefile.am:
	* configure.ac:

	Convert help system to gnome-doc-utils (bug #318486).
	Further changes documented in help/ChangeLog.

2005-12-15  Paolo Borelli  <pborelli@katamail.com>

	* plugins/spell/gedit-spell-plugin.c: add ellipsis to the
	"Set Language" menu item, as per HIG. (bug #314964)

2005-12-14  Paolo Borelli  <pborelli@katamail.com>

	* gedit/gedit-ui.h:
	* gedit/gedit-widow-private.h:
	* gedit/gedit-widow.c:

	Move Quit and View menitems to separate groups so that they
	are sensitive even when there are no tabs. (bug #324078)

2005-12-12  Paolo Borelli  <pborelli@katamail.com>

	* all files: too many changes to list, this is the merge of
	the new_mdi cvs branch, featuring almost a rewrite of the whole
	gedit codebase.
	Here is an excerpt from Paolo Maggi's mail describing the merge
	to the developement list:

	The "new_mdi" branch has been used for a substantial rework of
	the gedit internals with the goal of fixing various longstanding
	issues and improving the quality of the whole codebase.

	The main issues we wanted to fix were the ones related to the
	way gedit handled its tabbed interface (see bug #131953), but
	then a lot of other improvements have been put in.

	In particular:
	- GtkUIManager is now used for menus and toolbar instead of
	  libbonoboui
	- A side panel and a bottom panel have been added
	- A new gobject-based plugin system has been implemented
	- Plugins can now be written in Python
	- Reading and writing of files are now handled in an
	  asynchronous way (so the user interface never blocks)
	- Local files are read using mmap (when possible)
	- Incremental search is supported (use Ctrl+K)
	- A lot of usability improvements with some new UI experiment
	  are featured
	- Startup time and performaces have been improved
	- Remote file saving is supported (for a limited configurable
	  set of VFS methods)

2005-12-12  Paolo Borelli  <pborelli@katamail.com>

	* ChangeLog: fork off a new ChangeLog for the big merge of the
	new_mdi branch.
