2000-04-09  Chema Celorio  <chema@celorio.com>

	* view.c (gedit_view_init): Do not connect key_press_event
	with gtk_signal_connect_after. key_press_event has to be
	the first function to handle this event. This fixes the Ctrl+W
	bug.

	**We still need to add wrapping to the
	prefs box.***
	* print.c (print_line): Implemented text
	wrapping.
	(print_ps_line): created
	(set_pji): added wrapping stuff
	(print_determine_lines): added wrapping stuff

	* document.c (gedit_document_create_view): call
	"gedit_view_set_read_only" when creating a new view
	to update the title and the RO status.

2000-04-08  Chema Celorio  <chema@celorio.com>

	* file.c (gedit_file_open): Close the Untiled
	doc only if the open was succesfull.

	(popup_create_new_file): dont save the
	file. Just set doc->filename.

2000-04-08  Chema Celorio  <chema@celorio.com>

	* file.c (file_saveas_ok_sel): ask user
	before overwriting a file.
	(popup_create_new_file): moved
	from commands. and added a g_free call.

	* gedit.c (main): fixed when you call gedit myfile.txt
	and myfile.txt does not exists.

	* commands.c (edit_cut_cb): removed the commented
	functions that where moved to file.c
	(popup_create_new_file): moved to file.c

	* recent.c (recent_update): cleaned a bit
	(recent_cb): FIXME: we need to delete a file
	from the recent menu if an error was encountered
	while trying to open it.

	* commands.c: removed some prototpes that where not
	longer used.
	(popup_create_new_file): shut up a warning.
	(gedit_shutdown): comment it out, looks like
	it is not beeing used.

	* recent.c : Include file.h
	(recent_cb): rewrote.
	
	* view.c (view_changed_cb): call
	gedit_view_set_read_only.

	* file.c (gedit_file_open): Rewrote
	(file_open_ok_sel): Don't report to the
	user if there was an error, let file_open
	do it.

	* document.h (struct _Document): Added a read
	only entry in the Document structure

2000-04-06  Jason Leach  <leach@wam.umd.edu>

	* prefs.c (gedit_window_refresh): fixed a problem jpr just
	mentioned about changes to the font not getting applied to the
	documents already open.

2000-04-05  Jason Leach  <leach@wam.umd.edu>

	* prefs.c (get_prefs): fixed the crash with preferences when you
	have no documents open.

2000-04-04  Jason Leach  <leach@wam.umd.edu>

	* gedit-window.c (doc_swaphc_cb): fix a crash that was just
	earlier added to BUGS

	* gE_view.c (gedit_view_init): make the style actually follow your
	GTK+ theme, so no more default blue selection.
	(gedit_event_key_press): fixed the ALT-F bug

2000-04-04  Chema Celorio  <chema@celorio.com>

	* gedit-file-io.c (gedit_file_save): cleaned
	  the code and fixed bug #5929. 
	  (file_save_all_cb): rewrote it.
	  (file_open_cb): fixed small bug
	  (file_saveas_destroy): no longer needed
	  use generic destroy_cb
	  (file_save_all_as_cb): deleted, no need
	  to have a save_all_as func.
	  (file_save_all_as_destroy): ditto
	  (file_save_all_as_ok_sel): ditto
	  (file_close_all_cb): rewrote
	  (file_close_cb): rewrote
	  (file_revert_do): no longer needed, removed
	  (file_save_as_cb): fixed a bug

2000-04-04  Chema Celorio  <chema@celorio.com>

	* commands.c: Removed all the file-io
	functions from here and the prototypes
	from commands.h

	* gE_view.c: removed popup_menu from
	here.#included gedit-file-io.h because
	sortcut key's uses some file functions.

	* gedit-menus.c (popup_menu): moved
	popup_menu to here
	* gedit-menus.h (gedit_menus_init): moved
	popup_menu to here and share it with the
	outside world.

	* gedit-file-io.c: Rewriten part of
	the file-io functions, will continue ma~ana.
	(delete_event_cb): added
	(cancel_cb): added
	(file_open_cb): rewriten
	(file_open_ok_sel): rewriten, file opening
	is not done here anymore, call gedit_doc_new_with_file
	(file_cancel_sel): no longer needed replaced by a generic
	cancel_cb

2000-04-03  Chema Celorio  <chema@celorio.com>

	* gedit-utils.c (gedit_debug_mess): Added
	  switch to display only some types of
	  messages.

	* gedit-file-io.c: Moved file related functions
	from commands.c to here
	
	* commands.c: .

2000-04-03  Jason Leach  <leach@wam.umd.edu>

	* gedit-print.c: took out some unecessary #include's

2000-04-03  Chema Celorio  <chema@celorio.com>

	* gedit-undo.c: Cleaned the debug code
	  it now uses gedit_debug_mess.

	* gedit-utils.h: Added more debug types

	* gedit-menus.c (gedit_edit_menu): Moved all the
  	  menus definition to gedit-menus from gE_mdi.c
	  (gedit_tab_menu): Disbled the windows menu.

	* gedit-utils.c (gedit_debug_mess): New function
	  not finished, we need to be able to turn some
	  message types on and off
	* gE_view.c: Added debug calls
	* other files: code cleanup
	

2000-04-03  Jason Leach  <leach@wam.umd.edu>

	* gE_plugin.c (load_all_plugins): replaced a getenv() with a
	g_get_home_dir()

	* gE_plugin.c: removed 4 unnecessary #include's

	* commands.c (file_open_ok_sel): replaced some stat() stuff with a
	nice g_file_test() call

	* gedit-undo.c (gedit_undo_add): fix for the double CTRL-K crash
	just added to BUGS

	* gedit.c (main): who added the && FALSE to the
	if (g_list_length(mdi->children) == 0) ?  Took that out.

	* gE_view.c (popup_menu): cleaned up this GnomeUIInfo

	* commands.c: removed 5 unnecessar #includes
	(file_quit_cb): lets quit via gtk_main_quit() rather than a
	gtk_exit(0);
	(recent_update_menus): don't need to if() before g_free()
	(recent_update): replace resource heavy g_list_length calls with
	an integer counter.

2000-04-03  Chema Celorio  <chema@celorio.com>

	* gedit-menus.c (gedit_menu): When compiling
	without plugin support, do not show plugin menu
	entry
	* BUGS : added a bug { CTRL+K }

2000-04-03  Jason Leach  <leach@wam.umd.edu>

	* gE_mdi.c (gedit_document_destroy): fixed a crash when gedit
	tries to open a document without read permissions, and then when
	you go to exit.
	(gedit_document_new_with_file): bugfix with having the a busted up
	gedit when you try and open files you don't have access to.

	* gE_window.c (gedit_window_set_status_bar): new function, it will
	change your life (if your life is lacking dynamic control of
	enabling/disabling the statusbar)

	* gE_prefs_box.c (gedit_apply): fixed a bug where everytime you
	pressed OK in the preferences, it would run the apply callback
	twice, that's like, way lame and stuff.

2000-04-03  Chema Celorio  <chema@celorio.com>
	* gedit-undo.c (views_insert): fixed a cursor positioning problem
	  when undoing
	  (views_delete): ditto basiclly thaw gtk_text befor
   	  inserting/deleting this keeps the cursor in the correct position
	
2000-04-02  Jason Leach  <leach@wam.umd.edu>

	* gE_mdi.c (get_untitled_as_string): made static
	(gedit_document_new): woops, broke something here, its fixed.

	* *.[ch]: perl -p -i -e 's/gE_/gedit_/' changing all instances of
	gE_ to gedit_, meaning our #include lines are busted right now,
	will fix asap.

2000-04-02  Chema Celorio  <chema@celorio.com>

	* menus.c: Added print preview entry.

	* gE_print.c (file_print_preview_cb): Added print preview
	capabilities
	(print_document): ditto
	(preview_destroy_cb): ditto

2000-04-02  Jason Leach  <leach@wam.umd.edu>

	* search.c (create_search_dialog): marked a string for i18n that
	wasn't but should have been.
	(destroy_clist_data): don't need to do if(b) before g_free(b)

	* search.c: removed 5 unnecessary #include's, killed all
	warnings.

	* gE_print.c: killed 2 warnings.

	* gE_prefs_box.c: killed all warnings.

	* gE_files.c: removed 8 unnecessary #include's, killed all
	warnings.

	* gE_undo.c: killed all warnings.

	* gE_mdi.c: removed 5 unnecessary #include's, killed all warnings.

2000-04-01  Jason Leach  <leach@wam.umd.edu>

	* gE_prefs_box.c (cancel_cb): destroy the font selector window
	when we close the preferences, closes bug #4432.
	(font_sel): open pop open one font selector at a time, preventing
	any potential future bugs with this happening.
	(properties_changed): fix indentation

	* gE_prefs_box.c: commented out 5 unnecessary #include's

